# Домашняя работа №8

Реализуйте ваш проект из домашнего задания №6 как веб-сервис. Подтяните изменения из вашего репозитория с домашним заданием №6 (инструкция ниже).

Разрешается использовать только фреймворк gin с HTTP версии 1.1.

Приложение должно читать переменные среды HTTP_HOST и HTTP_PORT и использовать их для конфигурации HTTP-сервера.

Требуемое HTTP API должно соответствовать OpenAPI спецификации, расположенной в директории `api`. Далле будет приведена инструкция, как удобно с ней работать. При этом:

- запросы на все неизвестные пути должны возвращать код 404
- запросы на известные пути, но не поддерживаемые методы должны возвращать код 405
- POST запросы должны принимать во внимание заголовок Content-Type
- GET/HEAD запросы должны принимать во внимание заголовк Accept

Тесты модифицировать запрещается. Свои добавлять можно.

## Как подтянуть изменения в форк

Обратите внимание, для того чтобы скачать спецификацию и тесты для следующих заданий, нужно подтянуть изменения из основного репозитория.
Для этого:

1. Замержите в свой main всю накопленную работу в своём форке и переключитесь на обновлённый main локально
2. Если не настроен upstream, то сделайте ```git remote add upstream git@github.com:central-university-dev/2024-spring-go-course-lesson6.git``` или ```git remote add upstream https://github.com/central-university-dev/2024-spring-go-course-lesson6.git```
3. Обновите upstream: ```git fetch upstream``` или ```git fetch --all```
4. Подтяните изменения из upstream и ребазируйтесь на них: ```git rebase upstream/main```

## Как красиво и удобно отобразить текст спецификации

Спецификация дана как простой файл в формате yaml. Изучать текст глазами не очень удобно, можно сгенерировать на его основе интерактивный UI.

Если вы пользуетесь редактором VScode, то поставьте плагин `OpenAPI (Swagger) Editor`. Он позволяет открыть в соседней вкладке UI представление спецификации.

Если вы пользуетесь GoLand от JetBrans, то воспользуйтесь [встроенным просмотрщиком](https://www.jetbrains.com/help/idea/openapi.html#preview-api).

В ином случае всегда можно воспользоваться [официальным online-редактором](https://editor-next.swagger.io/).

## Запуск тестов

1. зайти в терминале в каталог с домашним заданием
2. вызвать ```go test -v ./... -race```

## Запуск линтера

Для линтинга используется [golangci-lint](https://golangci-lint.run/).
Инструкцию по установке можно найти [тут](https://golangci-lint.run/usage/install/).

Для запуска линтера нужно выполнить команду `golangci-lint run` в корне проекта.
Большую часть ошибок линтера можно поправить с использованием флага `--fix`.

## Обратите внимание

От того как вы выполните это задание зависит и то, как ваш проект будет продвигаться в дальнейшем. Если вы в чем-то сомневаетесь, то не стесняйтесь задавать вопросы.
